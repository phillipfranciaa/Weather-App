<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Link to your custom CSS file -->
    <link rel="stylesheet" href="/styles/style.css">
    <!-- Montserrat Font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1 class="center-align">Weather App</h1>

        <div class="section center-align">
            <form action="/" method="POST">
                <div class="input-field">
                    <input id="location" name="location" type="text" required>
                    <label for="location">Enter Location</label>
                </div>
                <button class="btn waves-effect waves-light blue" type="submit">Get Weather</button>
            </form>
        </div>

        <% if (error) { %>
            <div class="section">
                <div class="card-panel red lighten-2 white-text center-align">
                    <%= error %>
                </div>
            </div>
        <% } %>

        <% if (weather) { %>
            <div class="section">
                <h2 class="center-align">Current Weather</h2>
                <div class="card center-align">
                    <div class="card-content">
                        <span class="card-title"><%= weather.name %></span>
                        <img src="http://openweathermap.org/img/wn/<%= weather.weather[0].icon %>@2x.png" alt="<%= weather.weather[0].description %>">
                        <p>Temperature: <%= weather.main.temp %>°C</p>
                        <p>Weather: <%= weather.weather[0].description %></p>
                        <p>Humidity: <%= weather.main.humidity %>%</p>
                        <p>Wind Speed: <%= weather.wind.speed %> m/s</p>
                    </div>
                </div>
            </div>
        <% } %>

        <% if (forecast) { %>
            <div class="section">
                <h2 class="center-align">Hourly Forecast</h2>
                <ul class="collection">
                    <% forecast.forEach(forecastItem => { %>
                        <% if (forecastItem.dt_txt.includes('00:00')) { %>
                            <li class="collection-item center-align">
                                <p><strong><%= forecastItem.dt_txt %></strong></p>
                                <img src="http://openweathermap.org/img/wn/<%= forecastItem.weather[0].icon %>@2x.png" alt="<%= forecastItem.weather[0].description %>">
                                <p>Temperature: <%= forecastItem.main.temp %>°C</p>
                                <p>Weather: <%= forecastItem.weather[0].description %></p>
                                <p>Humidity: <%= forecastItem.main.humidity %>%</p>
                                <p>Wind Speed: <%= forecastItem.wind.speed %> m/s</p>
                            </li>
                        <% } %>
                    <% }) %>
                </ul>
            </div>
        <% } %>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <footer class="page-footer grey lighten-3">
        <div class="container center-align">
            <p>&copy; <%= new Date().getFullYear() %> Weather App. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>
</html>
